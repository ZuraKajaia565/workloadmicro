# src/test/resources/application-test.properties
spring.application.name=workload-service
server.port=0

# IMPORTANT: Allow bean definition overriding
spring.main.allow-bean-definition-overriding=true

# Disable MongoDB completely
spring.autoconfigure.exclude=org.springframework.boot.autoconfigure.mongo.MongoAutoConfiguration,org.springframework.boot.autoconfigure.data.mongo.MongoDataAutoConfiguration,org.springframework.boot.autoconfigure.mongo.embedded.EmbeddedMongoAutoConfiguration
de.flapdoodle.mongodb.embedded.version=5.0.5

# In-memory ActiveMQ for tests
spring.activemq.broker-url=vm://localhost?broker.persistent=false
spring.activemq.in-memory=true

# Disable Eureka for tests
eureka.client.enabled=false
eureka.client.register-with-eureka=false
eureka.client.fetch-registry=false

# Logging
logging.level.org.springframework=ERROR
logging.level.com.example.micro=DEBUG
# Disable JWT validation in tests
spring.security.jwt.enabled=false