# Integration Test Properties
spring.application.name=workload-service
server.port=0

# Use embedded MongoDB
spring.mongodb.embedded.version=4.0.2
spring.data.mongodb.database=test-db
spring.data.mongodb.port=0

# Use embedded ActiveMQ
spring.activemq.broker-url=vm://localhost?broker.persistent=false
spring.activemq.in-memory=true

# Disable Eureka in tests
eureka.client.enabled=false
eureka.client.register-with-eureka=false
eureka.client.fetch-registry=false

# Enable all actuator endpoints
management.endpoints.web.exposure.include=*
management.endpoint.health.show-details=always

# Resilience4J Circuit Breaker testing config
resilience4j.circuitbreaker.instances.default.sliding-window-size=5
resilience4j.circuitbreaker.instances.default.failure-rate-threshold=50
resilience4j.circuitbreaker.instances.default.wait-duration-in-open-state=1s
resilience4j.circuitbreaker.instances.default.automatic-transition-from-open-to-half-open-enabled=true